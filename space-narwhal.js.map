{"version":3,"sources":["webpack:///webpack/bootstrap 7c5ad7f37523fefbf41c","webpack:///./src/ts/Alien.ts","webpack:///./src/ts/Formation.ts","webpack:///./src/ts/Narwhal.ts","webpack:///./src/ts/space-narwhal.ts"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;AChEA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;ACrBA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,kCAAkC;AAClC;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,gBAAgB,EAAE;AACpE,kDAAkD,gBAAgB,EAAE;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,OAAO;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;AC9GA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;;;;;;;;AC9BA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,WAAW;AAClC;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA","file":"space-narwhal.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7c5ad7f37523fefbf41c","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Alien = (function (_super) {\n    __extends(Alien, _super);\n    function Alien(game, x, y) {\n        var _this = _super.call(this, game, x, y, 'alien') || this;\n        _this.anchor.setTo(0.5, 0.5);\n        return _this;\n    }\n    return Alien;\n}(Phaser.Sprite));\nexports.default = Alien;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ts/Alien.ts\n// module id = 0\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Formation = (function (_super) {\n    __extends(Formation, _super);\n    function Formation(game, enemies) {\n        var _this = _super.call(this, game) || this;\n        _this.points = [];\n        _this.addMultiple(enemies.map(function (enemy) {\n            var container = new Phaser.Group(_this.game);\n            container.addChild(enemy);\n            return container;\n        }), true);\n        _this._rotationSpeed = 0;\n        _this._pulseParameters = { amplitude: 0, speed: 0 };\n        _this._startTime = 0;\n        _this._totalTime = 0;\n        _this._path = { x: [], y: [] };\n        return _this;\n    }\n    Formation.prototype.enableRotation = function (speed) {\n        this._rotationSpeed = speed;\n    };\n    Formation.prototype.disableRotation = function () {\n        this.enableRotation(0);\n    };\n    Formation.prototype.enablePulse = function (amplitude, speed) {\n        this._pulseParameters.amplitude = amplitude;\n        this._pulseParameters.speed = speed;\n    };\n    Formation.prototype.disablePulse = function () {\n        this.enablePulse(0, 0);\n    };\n    Formation.prototype.enableMovement = function (path, time) {\n        this._path.x = path.map(function (point) { return point.x; });\n        this._path.y = path.map(function (point) { return point.y; });\n        this._startTime = this.game.time.now;\n        this._totalTime = time * 1000;\n    };\n    Formation.prototype.disabledMovement = function () {\n        this.enableMovement([], 0);\n    };\n    Formation.prototype.update = function () {\n        var t = this.game.time.now;\n        var dt = this.game.time.physicsElapsed;\n        this._rotate(t, dt);\n        this._pulse(t, dt);\n        this._move(t, dt);\n    };\n    Formation.prototype._rotate = function (t, dt) {\n        this.rotation += this._rotationSpeed;\n    };\n    Formation.prototype._pulse = function (t, dt) {\n        var children = this.children;\n        var _a = this._pulseParameters, amplitude = _a.amplitude, speed = _a.speed;\n        children.forEach(function (container) {\n            var alien = container.children[0];\n            alien.y = amplitude * Math.sin(t * speed * dt);\n        });\n    };\n    Formation.prototype._move = function (t, dt) {\n        var percentage = (t - this._startTime) / this._totalTime;\n        this.x = this.game.math.bezierInterpolation(this._path.x, percentage);\n        this.y = this.game.math.bezierInterpolation(this._path.y, percentage);\n    };\n    return Formation;\n}(Phaser.Group));\nexports.Formation = Formation;\nvar Diamond = (function (_super) {\n    __extends(Diamond, _super);\n    function Diamond(game, enemies, radius) {\n        var _this = _super.call(this, game, enemies.slice(0, 8)) || this;\n        _this._calculatePoints(radius);\n        _this.reset();\n        return _this;\n    }\n    /** Calculate the places for the formation */\n    Diamond.prototype._calculatePoints = function (radius) {\n        this.points.push(new PIXI.Point(0, radius));\n        this.points.push(new PIXI.Point(radius / 2, radius / 2));\n        this.points.push(new PIXI.Point(radius, 0));\n        this.points.push(new PIXI.Point(radius / 2, -radius / 2));\n        this.points.push(new PIXI.Point(0, -radius));\n        this.points.push(new PIXI.Point(-radius / 2, -radius / 2));\n        this.points.push(new PIXI.Point(-radius, 0));\n        this.points.push(new PIXI.Point(-radius / 2, radius / 2));\n    };\n    /** Place the enemies at the formation places. */\n    Diamond.prototype.reset = function () {\n        var _90 = Math.PI / 2;\n        var _180 = Math.PI;\n        for (var i = 0, l = this.children.length; i < l; i++) {\n            var container = this.children[i];\n            var point = this.points[i];\n            container.position = point;\n            container.rotation = Math.atan(point.y / point.x) +\n                _90 + (point.x < 0 ? _180 : 0);\n        }\n    };\n    return Diamond;\n}(Formation));\nexports.Diamond = Diamond;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ts/Formation.ts\n// module id = 1\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/** Movement speed for the hero narwhal. */\nvar SPEED = 800;\nvar Narwhal = (function (_super) {\n    __extends(Narwhal, _super);\n    function Narwhal(game, x, y) {\n        var _this = _super.call(this, game, x, y, 'narwhal') || this;\n        _this.anchor.setTo(0.5, 0.5);\n        _this.game.physics.enable(_this);\n        _this.body.collideWorldBounds = true;\n        return _this;\n    }\n    Narwhal.prototype.move = function (direction) {\n        this.body.velocity.x = direction.x * SPEED;\n        this.body.velocity.y = direction.y * SPEED;\n    };\n    return Narwhal;\n}(Phaser.Sprite));\nexports.default = Narwhal;\n;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ts/Narwhal.ts\n// module id = 2\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Narwhal_1 = require(\"./Narwhal\");\nvar Alien_1 = require(\"./Alien\");\nvar Formation_1 = require(\"./Formation\");\nvar Level = (function (_super) {\n    __extends(Level, _super);\n    function Level() {\n        var _this = _super.call(this) || this;\n        _this.formations = [];\n        return _this;\n    }\n    Level.prototype.init = function () {\n        this.keys = this.game.input.keyboard.addKeys({\n            left: Phaser.KeyCode.LEFT,\n            right: Phaser.KeyCode.RIGHT,\n            up: Phaser.KeyCode.UP,\n            down: Phaser.KeyCode.DOWN\n        });\n    };\n    Level.prototype.preload = function () {\n        this.game.load.image('narwhal', 'placeholders/char-placeholder.png');\n        this.game.load.image('alien', 'placeholders/enemy-placeholder.png');\n        this.game.load.image('brain', 'placeholders/brain-placeholder.png');\n    };\n    Level.prototype.create = function () {\n        this._spawnNarwhal();\n        this._spawnFormations();\n    };\n    Level.prototype.update = function () {\n        this._handleInput();\n    };\n    Level.prototype._spawnNarwhal = function () {\n        this.narwhal = new Narwhal_1.default(this.game, this.game.world.centerX, this.game.world.centerY);\n        this.game.add.existing(this.narwhal);\n    };\n    Level.prototype._spawnFormations = function () {\n        var top = this.game.world.centerY - this.game.world.height / 2;\n        var bottom = this.game.world.centerY + this.game.world.height / 2;\n        var left = this.game.world.centerX - this.game.world.width / 2;\n        var right = this.game.world.centerX + this.game.world.width / 2;\n        var enemies = this._getAliens(8);\n        var formation = new Formation_1.Diamond(this.game, enemies, 200);\n        formation.enableRotation(0.01);\n        formation.enablePulse(50, 0.2);\n        formation.enableMovement([\n            new PIXI.Point(this.game.world.centerX, top),\n            new PIXI.Point(left, this.game.world.centerY),\n            new PIXI.Point(right, this.game.world.centerY),\n            new PIXI.Point(this.game.world.centerX, bottom)\n        ], 30);\n        formation.position.x = this.game.world.centerX;\n        formation.position.y = this.game.world.centerY;\n        this.game.add.existing(formation);\n        this.formations.push(formation);\n    };\n    Level.prototype._getAliens = function (count) {\n        var aliens = [];\n        for (var i = 0; i < count; i++) {\n            aliens.push(new Alien_1.default(this.game, 0, 0));\n        }\n        return aliens;\n    };\n    Level.prototype._handleInput = function () {\n        var direction = { x: 0, y: 0 };\n        if (this.keys.left.isDown) {\n            direction.x = -1;\n        }\n        if (this.keys.right.isDown) {\n            direction.x = 1;\n        }\n        if (this.keys.up.isDown) {\n            direction.y = -1;\n        }\n        if (this.keys.down.isDown) {\n            direction.y = 1;\n        }\n        this.narwhal.move(direction);\n    };\n    return Level;\n}(Phaser.State));\n;\nwindow.onload = function () {\n    var level = new Level();\n    var game = new Phaser.Game(1000, 1080, Phaser.AUTO, 'content', level);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ts/space-narwhal.ts\n// module id = 3\n// module chunks = 0"],"sourceRoot":""}